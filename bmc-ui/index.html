<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="flower.ico?v=2" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <title>Phaser - BMC Town</title>
  </head>

  <body>
    <div id="app">
      <div id="game-container"></div>
    </div>
    <div
      id="client-form-container"
      class="form-overlay"
      style="display: none"
      onclick="event.stopPropagation()"
      onmousedown="event.stopPropagation()"
    >
      <form
        id="client-form"
        onclick="event.stopPropagation()"
        onmousedown="event.stopPropagation()"
      >
        <h3 id="form-title">Create New Client Profile</h3>

        <label for="token">Token (Unique ID):</label>
        <input type="text" id="token" name="token" required />

        <label for="owner_name">Owner Name:</label>
        <input type="text" id="owner_name" name="owner_name" required />

        <label for="business_name">Business Name:</label>
        <input type="text" id="business_name" name="business_name" required />

        <label for="sector">Sector:</label>
        <input type="text" id="sector" name="sector" />

        <label for="challenges">Challenges (comma-separated):</label>
        <textarea id="challenges" name="challenges" rows="3"></textarea>

        <label for="goals">Goals (comma-separated):</label>
        <textarea id="goals" name="goals" rows="3"></textarea>

        <label for="business_image">Business Image (Optional, max 5MB):</label>
        <input
          type="file"
          id="business_image"
          name="business_image"
          accept="image/*"
          onclick="event.stopPropagation()"
          onmousedown="event.stopPropagation()"
        />

        <label for="business_pdf">Business PDF (Optional, max 5MB):</label>
        <input
          type="file"
          id="business_pdf"
          name="business_pdf"
          accept=".pdf"
          onclick="event.stopPropagation()"
          onmousedown="event.stopPropagation()"
        />

        <div class="form-buttons">
          <button type="submit" id="form-submit-btn">Create Profile</button>
          <button type="button" id="form-cancel-btn">Cancel</button>
        </div>
    </div>

    <!-- Canvas Preview Modal -->
    <div id="canvas-preview-container" class="form-overlay" style="display: none">
      <div id="canvas-preview-modal">
        <h3 id="canvas-preview-title">ğŸ“‹ Your Business Model Canvas</h3>
        
        <div id="canvas-grid">
          <!-- Row 1: Partners, Activities/Resources, Value Prop, Relationships/Channels, Segments -->
          <div class="canvas-block" id="block-key-partnerships">
            <h4>ğŸ¤ Key Partnerships</h4>
            <textarea id="edit-key_partnerships" rows="15"></textarea>
          </div>
          <div class="canvas-block-double">
            <div class="canvas-sub-block" id="block-key-activities">
              <h4>âš™ï¸ Key Activities</h4>
              <textarea id="edit-key_activities" rows="8"></textarea>
            </div>
            <div class="canvas-sub-block" id="block-key-resources">
              <h4>ğŸ“¦ Key Resources</h4>
              <textarea id="edit-key_resources" rows="8"></textarea>
            </div>
          </div>
          <div class="canvas-block" id="block-value-propositions">
            <h4>ğŸ’ Value Propositions</h4>
            <textarea id="edit-value_propositions" rows="15"></textarea>
          </div>
          <div class="canvas-block-double">
            <div class="canvas-sub-block" id="block-customer-relationships">
              <h4>â¤ï¸ Customer Relationships</h4>
              <textarea id="edit-customer_relationships" rows="8"></textarea>
            </div>
            <div class="canvas-sub-block" id="block-channels">
              <h4>ğŸ“¢ Channels</h4>
              <textarea id="edit-channels" rows="8"></textarea>
            </div>
          </div>
          <div class="canvas-block" id="block-customer-segments">
            <h4>ğŸ‘¥ Customer Segments</h4>
            <textarea id="edit-customer_segments" rows="15"></textarea>
          </div>
          
          <!-- Row 2: Cost Structure, Revenue Streams -->
          <div class="canvas-block-wide" id="block-cost-structure">
            <h4>ğŸ’° Cost Structure</h4>
            <textarea id="edit-cost_structure" rows="5"></textarea>
          </div>
          <div class="canvas-block-wide" id="block-revenue-streams">
            <h4>ğŸ’µ Revenue Streams</h4>
            <textarea id="edit-revenue_streams" rows="5"></textarea>
          </div>
        </div>

        <!-- Extra Insights Section -->
        <div id="canvas-insights">
          <div class="insight-block">
            <h4>ğŸš« Constraints</h4>
            <textarea id="edit-constraints" rows="5" placeholder="Boundaries and dislikes..."></textarea>
          </div>
          <div class="insight-block">
            <h4>â­ Preferences</h4>
            <textarea id="edit-preferences" rows="5" placeholder="Interaction style preferences..."></textarea>
          </div>
          <div class="insight-block">
            <h4>â“ Pending Topics</h4>
            <textarea id="edit-pending_topics" rows="5" placeholder="Open questions to explore..."></textarea>
          </div>
        </div>

        <div class="modal-buttons">
          <button id="preview-save-btn" class="btn-secondary">ğŸ’¾ Save Changes</button>
          <button id="preview-download-btn" class="btn-primary">ğŸ“¥ Download PDF</button>
          <button id="preview-close-btn" class="btn-cancel">Close</button>
        </div>
      </div>
    </div>

    <script src="./bundle.min.js"></script>
  </body>
</html>
